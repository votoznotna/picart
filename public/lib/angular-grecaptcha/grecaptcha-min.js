"use strict";angular.module("grecaptcha",[]).provider("grecaptcha",function(){var e={},t,n=this,r="onRecaptchaScriptLoaded";this.setParameters=function(t){e=t};this.setLanguage=function(e){t=e};this._createScript=function(e){var n=e.createElement("script");n.type="text/javascript";n.async=true;n.defer=true;n.src="//www.google.com/recaptcha/api.js?onload="+r+"&render=explicit"+(t?"&hl="+t:"");var i=e.getElementsByTagName("body")[0];i.appendChild(n)};this.$get=["$q","$window","$document","$rootScope",function(t,i,s,o){var u=t.defer();i[r]=function(){u.resolve()};if(!i.grecaptcha){n._createScript(s[0])}else{u.resolve()}return{updateParameters:function(t){angular.extend(e,t)},create:function(t,n){if(!e||!e.sitekey){throw new Error("Please provide your sitekey via setParameters")}u.promise.then(function(){e.callback=function(e){o.$apply(function(){n.$setViewValue(e)})};i.grecaptcha.render(t,e)})},reset:function(){i.grecaptcha.reset()}}}]}).directive("grecaptcha",["grecaptcha",function(e){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function(t,n,r,i){e.create(n[0],i);t.$on("$destroy",e.reset)}}}])