"use strict";angular.module("grecaptcha",[]).provider("grecaptcha",function(){var a={},d,c=this,b="onRecaptchaScriptLoaded";this.setParameters=function(e){a=e};this.setLanguage=function(e){d=e};this._createScript=function(g){var f=g.createElement("script");f.type="text/javascript";f.async=true;f.defer=true;f.src="//www.google.com/recaptcha/api.js?onload="+b+"&render=explicit"+(d?"&hl="+d:"");var e=g.getElementsByTagName("body")[0];e.appendChild(f)};this.$get=["$q","$window","$document",function(f,h,g){var e=f.defer();h[b]=function(){e.resolve()};if(!h.grecaptcha){c._createScript(g[0])}else{e.resolve()}return{create:function(j,i){if(!a||!a.sitekey){throw new Error("Please provide your sitekey via setParameters")}e.promise.then(function(){a.callback=function(k){i.$setViewValue(k)};h.grecaptcha.render(j,a)})},reset:function(){h.grecaptcha.reset()}}}]}).directive("grecaptcha",["grecaptcha",function(a){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function(e,d,c,b){a.create(d[0],b);e.$on("$destroy",a.reset)}}}]);